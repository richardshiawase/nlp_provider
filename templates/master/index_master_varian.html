{% extends 'base.html' %}
{% block title %} Model {% endblock %}

{% block content %}

<div class="container">
        <div class="row">

            <table id="albumse" class="table table-striped table-bordered" style="width:100%">
                <thead>
                <tr>
<!--                    <th></th>-->
                    <th style="width:2%" data-data="rank">State ID</th>
                    <th style="width:2%" data-data="rank">City ID</th>
                    <th style="width:20%" data-data="rank">Nama</th>
                    <th style="width:30%" data-data="rank">Alamat</th>
                    <th style="width:2%" data-data="rank">Kategori 1</th>
                    <th style="width:2%" data-data="rank">Kategori 2</th>
                    <th style="width:10%" data-data="rank">Phone</th>



                </tr>
                </thead>
            </table>
        </div>

</div>


<script>


<!--       /* Formatting function for row details - modify as you need */-->
<!--        function format(d) {-->
<!--            // `d` is the original data object for the row-->
<!--            console.log(d.varian);-->
<!--            var eo = "";-->
<!--            for(key in d.varian){-->
<!--                 eo += "<tr><td>Full name:</td><td>"+d.varian[key]+"</td></tr>";-->
<!--            }-->
<!--            return (-->
<!--                '<table>' +-->
<!--                    eo-->
<!--                + '</table>'-->
<!--            );-->
<!--        }-->
      $(document).ready(function() {

        console.log("Tes");
         var table =     $('#albumse').DataTable({
              ajax: {
              url: "{% url 'master_varian_list_read' %}",
              type: 'GET',
              dataSrc: "",
          },


           columnDefs: [



                   {
                    "render" : function(data,type,row){
                        console.log(data);
                        switch(data){

                            case "1":
                                return "Rumah Sakit";
                                break;
                            case "2":
                                return "Klinik";
                                break;
                            case "3":
                                return "Apotek";
                            case "4":
                                return "Lab";
                            case "5":
                                return "Praktek";
                            case "6":
                                return "Optik";
                            default :
                                return data;

                        }
                    },
                    targets : 2
                  }
              ],

          columns: [
<!--          {-->
<!--                className: 'dt-control',-->
<!--                orderable: false,-->
<!--                data: null,-->
<!--                defaultContent: '',-->
<!--            },-->
                  {   data: "state_id" },
                  {   data: "city_id" },
                  {   data: "nama_provider" },
                  {   data: "alamat" },
                  {   data: "category_1" },
                  {   data: "category_2" },
                  {   data: "phone" },


              ],
          });




<!--         // Add event listener for opening and closing details-->
<!--            $('#albumse tbody').on('click', 'td.dt-control', function () {-->
<!--                var tr = $(this).closest('tr');-->
<!--                var row = table.row(tr);-->

<!--                if (row.child.isShown()) {-->
<!--                    // This row is already open - close it-->
<!--                    row.child.hide();-->
<!--                    tr.removeClass('shown');-->
<!--                } else {-->
<!--                    // Open this row-->
<!--                    row.child(format(row.data())).show();-->
<!--                    tr.addClass('shown');-->
<!--                }-->
<!--            });-->


      });
</script>

{% endblock %}